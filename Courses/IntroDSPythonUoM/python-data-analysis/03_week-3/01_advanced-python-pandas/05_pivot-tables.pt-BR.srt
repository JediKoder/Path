1
00:00:08,757 --> 00:00:13,620
Uma tabela dinâmica é uma maneira de resumir os dados
em uma estrutura de dados para um propósito particular.

2
00:00:13,620 --> 00:00:16,610
Faz uso intenso da 
função de agregação.

3
00:00:16,610 --> 00:00:20,830
Uma tabela dinâmica é em si um quadro de dados,
onde as linhas representam uma variável que

4
00:00:20,830 --> 00:00:25,770
você tem interesse, as colunas outra variável,
e a célula é um valor agregado.

5
00:00:25,770 --> 00:00:29,190
Uma tabela dinâmica também tende
 a incluir valores marginais também,

6
00:00:29,190 --> 00:00:31,590
que são as somas para
cada linha e para cada coluna.

7
00:00:31,590 --> 00:00:36,030
Isso permite que você veja
 o relacionamento entre duas variáveis, 

8
00:00:36,030 --> 00:00:36,640
num relance.

9
00:00:36,640 --> 00:00:38,980
Vamos ver um exemplo.

10
00:00:38,980 --> 00:00:42,713
Vamos carregar um novo conjunto de dados,
cars.csv.

11
00:00:42,713 --> 00:00:46,275
Este conjunto de dados vem do
Open Data Initiative, do governo canadense.

12
00:00:46,275 --> 00:00:49,774
E tem informações sobre a eficiência
de diferentes carros elétricos que

13
00:00:49,774 --> 00:00:52,070
estão disponíveis no mercado.

14
00:00:52,070 --> 00:00:54,326
Quando olhamos para o cabeçalho
dos dados,

15
00:00:54,326 --> 00:00:58,837
vemos que há ano (YEAR), modelo (Model), 
fornecedor (Make), tamanhos de carros (Size) e estatísticas,

16
00:00:58,837 --> 00:01:01,364
como o tamanho da bateria (em quilowatts-hora).

17
00:01:01,364 --> 00:01:06,009
Uma tabela dinâmica nos permite
girar uma dessas colunas em um novo cabeçalho de colunas

18
00:01:06,009 --> 00:01:09,980
e compará-la contra outra coluna, como índices de linha.

19
00:01:09,980 --> 00:01:10,770
Por exemplo,

20
00:01:10,770 --> 00:01:15,360
se quiséssemos comparar a
marca de veículos elétricos contra os anos e

21
00:01:15,360 --> 00:01:19,770
que queríamos fazer essa comparação
em termos de capacidade da bateria.

22
00:01:19,770 --> 00:01:23,500
Para isso, dizemos ao Pandas
que queremos os valores em quilowatts,

23
00:01:23,500 --> 00:01:27,240
que o índice será o ano e
as colunas serão os fabricantes (Make).

24
00:01:27,240 --> 00:01:30,369
Em seguida, especificamos
a função de agregação,

25
00:01:30,369 --> 00:01:32,667
que aqui será a média:
 aggfunc=np.mean

26
00:01:32,667 --> 00:01:34,030
Eis os resultados.

27
00:01:34,030 --> 00:01:35,806
Vemos que há valores NaN para

28
00:01:35,806 --> 00:01:39,918
fornecedores que não têm uma entrada
 num determinado ano, como Ford em 2012.

29
00:01:39,918 --> 00:01:43,937
E vemos que a maioria dos fornecedores
não têm uma mudança na capacidade da bateria ao longo dos anos,

30
00:01:43,937 --> 00:01:47,010
exceto Tesla, que introduziu vários modelos novos.

31
00:01:48,270 --> 00:01:52,250
Agora, tabelas dinâmicas não se limitam a uma função
que você pode querer aplicar.

32
00:01:52,250 --> 00:01:55,905
Você pode passar uma lista das
 funções diferentes para aplicar.

33
00:01:55,905 --> 00:02:00,110
E Pandas irá fornecer o resultado,
usando hierarquida de nomes de colunas.

34
00:02:00,110 --> 00:02:02,822
Aqui, para passar margens:
margins=True

35
00:02:02,822 --> 00:02:06,882
Note que, para cada função,
há uma categorial 'all'.

36
00:02:06,882 --> 00:02:10,687
All exibe a média geral e
valores mínimos de um dado ano

37
00:02:10,687 --> 00:02:11,610
e de um dado fornecedor.

38
00:02:12,790 --> 00:02:14,300
Isso é o que são as tabelas dinâmicas.

39
00:02:14,300 --> 00:02:16,190
Foi uma descrição sucinta, mas

40
00:02:16,190 --> 00:02:19,180
elas serão muito úteis na
manipulação de dados numéricos.

41
00:02:19,180 --> 00:02:22,670
E, é claro, você pode passar qualquer função
que quiser para a função de agregação,

42
00:02:22,670 --> 00:02:24,460
incluindo as suas, as que você criar.