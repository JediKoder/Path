Như chúng ta đã thấy cả chuỗi và khung dữ liệu có thể áp dụng cho chúng. Chỉ số là cần thiết cho nhãn mác định mức hàng và chúng ta biết các hàng tương ứng với trục 0. Trong dữ liệu Olumpics, chúng ta đã chỉ ra khung dữ liệu bằng tên đất nước. Các chỉ số có thể được suy ra như khi chúng ta tạo ra chuỗi mới mà không có chỉ số, trong trường hợp chúng ta có các giá trị số. Hoặc chúng ta thiết lập một cách rõ ràng, như là khi chúng ta sử dụng đối tượng thư viện để tạo ra các chuỗi. Hoặc khi chúng ta tải dữ liệu từ tệp csv và tiêu đề cụ thể. Lựa chọn khác nữa cho việc đặt chỉ số để sử dụng chức năng chỉ số. Chức năng này lấy danh sách các cột và thúc đẩy các cột với một chỉ số. Bộ chỉ số là quá trình phá hỏng, nó không giữ chỉ số hiện tại. Nếu bạn muốn giữ chỉ số hiện tại, bạn cần tạo ra cột mới và sao chép các giá trị từ thuộc tính chỉ mục. Hãy quay lại với khung dữ liệu Olympic. Giả sử chúng ta không muốn chỉ ra khung dữ liệu bằng các đất nước nhưng thay vì đó muốn chỉ bằng số huy chương vàng chiến thắng ở thế vận hội mùa hè. Đầu tiên chúng ta cần phải giữ gìn thông tin đất nước trong cột mới. Chúng ta có thể làm điều này sử dụng toán tử hoặc chuỗi có nhãn mác cột. Sau đó chúng ta có thể dùng chỉ mục để tạo chỉ số cột với huy chương vàng chiến thắng. Bạn sẽ thấy khi chúng ta tạo ra chỉ số mới từ cột nó dường như là một hàng mới đầu tiên được thêm vào với các giá trị trống. Điều này không phải những gì xảy ra. Và chúng ta biết đó là một phần bởi vì giá trị trống được hiểu là không có hoặc NAN nếu dữ liệu của cột là số. Điều là thực sự xảy ra là chỉ mục có tên. Bất cứ cột nào ở trong notebook jupiter được cung cấp điều này trong đầu ra. Chúng ta có thể loại bỏ chỉ mục hoàn toàn bằng cách lấy chức năng đặt lại chỉ mục. Điều này thúc đẩy chỉ mục trong cột và tạo ra chỉ số mặc định. Một tính năng tốt của hàm panda là nó có lựa chọn để thực hiện chỉ mục đa cấp. Điều này tương tự với các chìa khóa trong hệ thống dữ liệu liên quan. Để tạo ra chỉ mục đa cấp, chúng ta tạo chỉ mục và đưa một danh sách cột mà chúng ta quan tâm đến để thúc đẩy chỉ mục. Hàm panda sẽ nghiên cứu theo thứ tự, tìm ra dữ liệu riêng biệt và tạo thành hỗn hợp chỉ số. Một ví dụ hay về điều này thường tìm thấy khi xử lí dữ liệu địa lí cái mà được sắp xếp theo vùng hoặc nhân khẩu. Hãy thay đổi tập dữ liệu và nhìn vào dữ liệu điều tra dân số. Dữ liệu này được lưu trong tệp census.csv và đến từ cục điều tra dân số Hoa Kỳ. Đặc biệt, Đâu là phân tích về dữ liệu mức độ dân số ở cấp quận hoa Kỳ. Nó là ví dụ tuyệt vời về các tập dữ liệu khác nhau có thể được định dạng khi bạn đang cố gắng làm sạch chúng. Ví dụ trong tập dữ liệu này có hai cấp độ được tóm tắt, một cái chứa dữ liệu tổng với toàn bộ đất nước. Và một cái chứa dữ lieuj tóm tắt cho mỗi bang và một cái chứa dữ liệu tóm tắt cho mỗi quận. Tôi thấy rằng tôi muốn xem danh sách tất cả các giá trị độc đáo trong cột cho trước. Trong khung dữ liệu chúng ta thấy các giá trị cho mức độ tổng sử dụng chức năng duy nhất trên khung dữ liệu. Điều này tương tự với hệ điều hành riêng biệt SQL. Ở đây chúng ta có thể chạy trên mức độ tổng khung dữ liệu hiện tại và thấy rằng có hai giá trị khác nhau 40 và 50. Loại bỏ các hàng là tổng ở mức độ bang và chỉ giữ dữ liệu quận. Trong khi dữ liệu này quan tâm đến một số lí do khác nhau, hãy giảm dữ liệu mà chúng ta sẽ nhìn vào tổng dân số ước tính và tổng số sinh. Chúng ta có thể làm điều này bằng việc tạo ra danh sách tên cột mà chúng ta muốn giữ sau đó gán kết quả khung dữ liệu vào biến DF. Dữ liệu điều tra dân số Hoa Kỳ phá vỡ ước tính dữ liệu dân số theo bang và quận. Chúng ta có thể tải dữ liệu và thiết lập chỉ mục có thể là sự kết hợp bang và các giá trị quận và xem cách panda xử lí trong khung dữ liệu. Chúng ta làm điều này bằng cách tạo ra một danh sách định dạng cột chúng ta muốn chỉ ra. Sau đó thiết lập chỉ mục với danh sách này và gán đầu ra thích hợp. Chúng ta thấy có chỉ số kép, tên bang đầu tiên và sau đó là tên quận. Câu hỏi là cách chúng ta có thể truy vấn khung dữ liệu này. Ví dụ, chúng ta thấy trước rằng thuộc tính khóa của khung dữ liệu có thể lấy nhiều đối số. Nó có thể truy vấncarar hàng và cột. Khi bạn sử dụng chỉ mục Balti, bạn phải cung cấp đối số bởi mức độ bạn muốn truy vấn. Bên trong chỉ mục, mỗi cột được gọi là một mức và cột bên ngoài ở mức 0. Ví dụ nếu chúng ta muốn thấy các kết quả dân số từ quận Washenaw, đó là nơi tôi sống, bạn muốn các đối số đầu tiên là bang Michigan. Bạn có thể quan tâm đến việc so sánh hai quận. Ví dụ Washtenaw nơi tôi sống và quận Wayne bao gồm Detroit. Để làm điều này chúng ta có thể dùng phương khóa, một danh sách hai quận mô tả các chỉ số chúng ta muốn truy vấn. Bởi vì chúng ta có nhiều chỉ số của hai giá trị, bang và quận, chúng ta cần phải cung cấp hai giá trị là mỗi phần tử của danh sách lọc. Ok đó là cách phân cấp chỉ số hoạt động tóm tắt. Chúng là một phần đặc biệt của thư viện panda cái mà tôi nghĩ có thể quản lí dữ liệu dễ dàng hơn. Tất nhiên nhãn dán thứ bậc không chỉ cho các hàng. Ví dụ bạn có thể chuyển đổi ma trận này và bây giờ có các nhãn mác cột thứ bậc. Và chiếu một cột đơn có các nhãn mác này hoạt động chính xác theo cách bạn mong muốn.